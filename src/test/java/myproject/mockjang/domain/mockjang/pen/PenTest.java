package myproject.mockjang.domain.mockjang.pen;

import static org.assertj.core.api.Assertions.*;

import java.util.List;
import myproject.mockjang.IntegrationTestSupport;
import myproject.mockjang.domain.mockjang.cow.Cow;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

class PenTest extends IntegrationTestSupport {

  @DisplayName("축사칸은 단일 소를 등록할 수 있다.")
  @Test
  void registerOneCow() {
    //given
    Pen pen = Pen.builder()
        .penId("1-1")
        .build();
    Cow cow = Cow.builder()
        .cowId("1111")
        .build();
    //when
    pen.registerCow(cow);

    //then
    assertThat(pen.getCows()).hasSize(1);
    assertThat(pen.getCows()).contains(cow);
  }

  @DisplayName("축사칸은 여러 소를 등록할 수 있다.")
  @Test
  void registerMultiCow() {
    //given
    Pen pen = Pen.builder()
        .penId("1-1")
        .build();
    Cow cow1 = Cow.builder()
        .cowId("1111")
        .build();
    Cow cow2 = Cow.builder()
        .cowId("1112")
        .build();
    //when
    pen.registerCow(List.of(cow1,cow2));

    //then
    assertThat(pen.getCows()).hasSize(2);
    assertThat(pen.getCows()).contains(cow1,cow2);
  }

}